## **ÌîÑÎ°úÏ†ùÌä∏ Í∞úÏöî**

Î≥∏ ÌîÑÎ°úÏ†ùÌä∏Îäî **ÏßÄÏó≠Î≥Ñ, Ïú†ÌòïÎ≥Ñ, ÎÇ†ÏßúÎ≥Ñ Î≥ÄÌôîÌïòÎäî ÏàôÎ∞ïÏóÖÏÜå(Ïó¨Í∏∞Ïñ¥Îïå)Ïùò Îç∞Ïù¥ÌÑ∞Î•º ÏûêÎèôÏúºÎ°ú ÏàòÏßë, Ï†ÄÏû•, Î∂ÑÏÑù, Î∞è ÏãúÍ∞ÅÌôî**ÌïòÎäî Îç∞Ïù¥ÌÑ∞ ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨Ï∂ïÏùÑ Î™©ÌëúÎ°ú ÏßÑÌñâÎêòÏóàÏäµÎãàÎã§. Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Îç∞Ïù¥ÌÑ∞Î•º ÏóÖÎç∞Ïù¥Ìä∏ÌïòÍ≥†, ÏãúÍ∞ÅÌôî ÎåÄÏãúÎ≥¥ÎìúÎ•º ÌÜµÌï¥ Íµ≠ÎÇ¥ ÏàôÎ∞ïÏóÖÏóê ÎåÄÌïú Îã§ÏñëÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º Ï†úÍ≥µÌïòÍ≥†Ïûê ÌïòÏòÄÏäµÎãàÎã§. Ïù¥Îü¨Ìïú Î™©Ï†ÅÏúºÎ°ú Îç∞Ïù¥ÌÑ∞ ÏàòÏßë, Ï†ÄÏû•, Î∂ÑÏÑù, ÏãúÍ∞ÅÌôîÍπåÏßÄ Îã§ÏñëÌïú Í∏∞Ïà†Îì§ÏùÑ ÌôúÏö©ÌïòÏòÄÏäµÎãàÎã§.

### **ÌîÑÎ°úÏ†ùÌä∏ Ï£ºÏöî ÎÇ¥Ïö©**

- **Îç∞Ïù¥ÌÑ∞ ÏàòÏßë Î∞è ÏóÖÎç∞Ïù¥Ìä∏ ÏûêÎèôÌôî**  
  - **Python, BeautifulSoup, Selenium** Îì±Ïùò Ïõπ Ïä§ÌÅ¨ÎûòÌïë ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÌôúÏö©Ìï¥ ÏßÄÏó≠Î≥Ñ, Ïú†ÌòïÎ≥Ñ ÏàôÎ∞ïÏóÖÏÜå Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßë.  
  - **AWS EventBridge**ÏôÄ **AWS Lambda**Î•º ÌôúÏö©Ìïú **cron Ïä§ÏºÄÏ§ÑÎßÅ**ÏúºÎ°ú Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ÌîÑÎ°úÏÑ∏Ïä§Î•º ÏûêÎèôÌôîÌïòÏó¨ ÏµúÏã†ÌôîÎêú Îç∞Ïù¥ÌÑ∞Î•º Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú ÏóÖÎç∞Ïù¥Ìä∏.  

- **Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Î∞è Í¥ÄÎ¶¨**  (ETL)
  - ÏàòÏßëÎêú Îç∞Ïù¥ÌÑ∞Î•º **AWS S3**Ïóê Ï†ÄÏû•Ìï¥ ÎåÄÏö©Îüâ Îç∞Ïù¥ÌÑ∞Î•º ÏïàÏ†ÑÌïòÍ≤å Î≥¥Í¥Ä Î∞è Í¥ÄÎ¶¨.  
  - **Snowflake**Î°ú Îç∞Ïù¥ÌÑ∞Î•º Ïù¥Í¥ÄÌïòÏó¨ Î∂ÑÏÑù ÏøºÎ¶¨Î•º Ïã§ÌñâÌïòÍ≥† Îã§ÏñëÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º ÎèÑÏ∂ú.  

- **Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Î∞è ÏãúÍ∞ÅÌôî**  (ELT)
  - Î∂ÑÏÑùÎêú Í≤∞Í≥ºÎäî **Preset ÎåÄÏãúÎ≥¥Îìú**Î°ú ÏãúÍ∞ÅÌôîÌïòÏó¨ ÏßÅÍ¥ÄÏ†ÅÏù∏ Ï†ïÎ≥¥Î•º Ï†úÍ≥µ.  
  - ÏàôÎ∞ïÏóÖÏÜåÏùò **ÏßÄÏó≠Î≥Ñ**, **ÏàôÎ∞ï Ïú†ÌòïÎ≥Ñ**, **ÎÇ†ÏßúÎ≥Ñ ÌäπÏÑ±**ÏùÑ Î∂ÑÏÑùÌïòÍ≥†, ÏàòÏöî Î≥ÄÌôî Í≤ΩÌñ•ÏÑ±ÏùÑ ÌååÏïÖ Í∞ÄÎä•.  

---


# **Automated Data Pipeline with AWS Lambda, EventBridge, S3, Snowflake, and Preset**

![image](https://github.com/user-attachments/assets/82f7e334-3467-430f-822d-c43ce0a2a8dd)



## üìñ **Overview**

This repository contains an automated data pipeline using:
- **AWS EventBridge**: Scheduled triggering of tasks.
- **AWS Lambda**: Execution of web scraping and data transformation.
- **AWS S3**: Intermediate storage of processed data in **Parquet format**.
- **Snowflake**: Data warehousing for advanced analytics and reporting.
- **Preset (Apache Superset)**: Interactive dashboards for visualization of processed data.

---

## üìÖ **Crawling Execution Flow**

### **1. Event Trigger (AWS EventBridge)**
- **Schedule**: Every Monday at `00:00:10` (Cron-tab).

### **2. Lambda Execution**
- **Function**: `Crawling_Lambda`
- **Library Used**: `selenium`

### **3. Crawling Workflow**
#### **3-1. Crawling_Basic Execution**
- **Purpose**: Extract basic data using `selenium`.
- **Data Extracted**:
  - `accommodation_table`
  - `accommodation_review_table`
  - `accommodation_price_table`
- **Data Processing**:
  - Data is saved in **Parquet format** to a temporary buffer.
  - Parquet files are uploaded to **S3**.

#### **3-2. Crawling_Detail Execution**
- **Purpose**: Perform detailed crawling using `accommodation_table.accommodation_ID`.
- **Additional Data Extracted**:
  - `accommodation_Location_table`
  - `accommodation_Facilities_table`
- **Data Processing**:
  - Data is saved in **Parquet format** and uploaded to **S3**.

### **4. Data Loading to Snowflake**
- **Library Used**: `snowflake.connector`
- **Workflow**:
  1. **S3 Parquet data ‚Üí snowflake.project2.RAW_DATA**
  2. **RAW_DATA ‚Üí snowflake.project2.Analytics_tables**

### **5. Data Visualization with Preset**
- **Visualization Tool**: Preset (Apache Superset).
- **Purpose**: Create interactive dashboards and visualizations for:
  - Accommodation trends.
  - Review sentiment analysis.
  - Price comparisons and more.


---

# Local Ïã§Ìñâ Ïãú ÏàúÏÑú
```
> pip install -r requirements.txt
```

Îß§Ï£º ÏõîÏöîÏùº 00:00:10Î∂ÑÏóê Ïã§ÌñâÎêòÎèÑÎ°ù cron scheduling ÏÉùÏÑ± ÌõÑ

```
> python Crawling_Lambda_Script.py
> python Load_Snowflake_Lambda_Script.py
```
=> Ïã§Ìñâ

# AWS Íµ¨ÏÑ±Ïãú
1. Event Bridge : Cron Îß§Ï£º ÏõîÏöîÏùº 00:00:10

2. Lambda Íµ¨ÏÑ±
![alt text](./Lambda.png)

[Trigger : Event Bridge] -> [Lambda : Crawling_Lambda_Script.py] => [Ïù¥Ï†Ñ ÏÑ±Í≥µ Ïãú : python Load_Snowflake_Lambda_Script.py]

---

## üîß **Required Libraries and Versions**

| **Library**                   | **Version**    |
|--------------------------------|----------------|
| `beautifulsoup4`              | 4.12.3         |
| `selenium`                    | 4.26.1         |
| `boto3`                       | 1.35.54        |
| `pandas`                      | 2.0.3          |
| `snowflake-connector-python`  | 3.12.3         |
| `snowflake-sqlalchemy`        | 1.6.1          |
| `apache-superset`             | Latest         |
