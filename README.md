<img width="601" alt="image" src="https://github.com/user-attachments/assets/7995c4bb-dbd8-4dbb-9e5f-5b91de66c0ee" />

<img width="599" alt="image" src="https://github.com/user-attachments/assets/b9b75855-81ca-4bae-acad-b2b6cb6db674" />

<img width="603" alt="image" src="https://github.com/user-attachments/assets/d2b175bd-f657-4879-9f0c-064ae782e651" />

<img width="603" alt="image" src="https://github.com/user-attachments/assets/224e8676-b2a3-4053-9edc-5421b6a85998" />

<img width="603" alt="image" src="https://github.com/user-attachments/assets/7c28aeca-d268-4060-b11e-5b6d15c068ac" />

<img width="605" alt="image" src="https://github.com/user-attachments/assets/0df70ef7-85f3-4f14-b74c-418fb14f9b3e" />

<img width="602" alt="image" src="https://github.com/user-attachments/assets/3b70e7b7-eadd-4f1c-8075-b77b7237e1a7" />

<img width="605" alt="image" src="https://github.com/user-attachments/assets/9a43745c-918a-40cd-9e51-071805fe3d8c" />

<img width="606" alt="image" src="https://github.com/user-attachments/assets/2f8507c7-356b-437b-9d41-e8e27527af1a" />

<img width="604" alt="image" src="https://github.com/user-attachments/assets/ce96bea1-7ed5-45c6-9e9d-a2ef0c9907f8" />

<img width="602" alt="image" src="https://github.com/user-attachments/assets/a36c09ae-4e3d-44d6-95ef-b7e7197446be" />

<img width="602" alt="image" src="https://github.com/user-attachments/assets/8c024f56-aa75-4384-aa6f-933581bac4b0" />

<img width="604" alt="image" src="https://github.com/user-attachments/assets/09e70c3b-a44f-47be-9bce-322c1438a185" />

<img width="604" alt="image" src="https://github.com/user-attachments/assets/3d51e936-7634-4325-859d-9b1ad414fc37" />

<img width="603" alt="image" src="https://github.com/user-attachments/assets/39b25994-4722-4bc1-8773-fe4c92f3c076" />

<img width="603" alt="image" src="https://github.com/user-attachments/assets/786da6f4-95f2-432d-8cc0-0848dbdf411b" />

<img width="605" alt="image" src="https://github.com/user-attachments/assets/89e9eb76-4625-42d8-8853-dee232471389" />

<img width="989" alt="image" src="https://github.com/user-attachments/assets/f88a49bf-99e7-4e72-b95b-e70d32d703f3" />

<img width="991" alt="image" src="https://github.com/user-attachments/assets/751f6824-9509-4f0e-8af9-405ae98a57a4" />

---

## **ÌîÑÎ°úÏ†ùÌä∏ Í∞úÏöî**

Î≥∏ ÌîÑÎ°úÏ†ùÌä∏Îäî **ÏßÄÏó≠Î≥Ñ, Ïú†ÌòïÎ≥Ñ, ÎÇ†ÏßúÎ≥Ñ Î≥ÄÌôîÌïòÎäî ÏàôÎ∞ïÏóÖÏÜå(Ïó¨Í∏∞Ïñ¥Îïå)Ïùò Îç∞Ïù¥ÌÑ∞Î•º ÏûêÎèôÏúºÎ°ú ÏàòÏßë, Ï†ÄÏû•, Î∂ÑÏÑù, Î∞è ÏãúÍ∞ÅÌôî**ÌïòÎäî Îç∞Ïù¥ÌÑ∞ ÌååÏù¥ÌîÑÎùºÏù∏ Íµ¨Ï∂ïÏùÑ Î™©ÌëúÎ°ú ÏßÑÌñâÎêòÏóàÏäµÎãàÎã§. Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú Îç∞Ïù¥ÌÑ∞Î•º ÏóÖÎç∞Ïù¥Ìä∏ÌïòÍ≥†, ÏãúÍ∞ÅÌôî ÎåÄÏãúÎ≥¥ÎìúÎ•º ÌÜµÌï¥ Íµ≠ÎÇ¥ ÏàôÎ∞ïÏóÖÏóê ÎåÄÌïú Îã§ÏñëÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º Ï†úÍ≥µÌïòÍ≥†Ïûê ÌïòÏòÄÏäµÎãàÎã§. Ïù¥Îü¨Ìïú Î™©Ï†ÅÏúºÎ°ú Îç∞Ïù¥ÌÑ∞ ÏàòÏßë, Ï†ÄÏû•, Î∂ÑÏÑù, ÏãúÍ∞ÅÌôîÍπåÏßÄ Îã§ÏñëÌïú Í∏∞Ïà†Îì§ÏùÑ ÌôúÏö©ÌïòÏòÄÏäµÎãàÎã§.

### **ÌîÑÎ°úÏ†ùÌä∏ Ï£ºÏöî ÎÇ¥Ïö©**

- **Îç∞Ïù¥ÌÑ∞ ÏàòÏßë Î∞è ÏóÖÎç∞Ïù¥Ìä∏ ÏûêÎèôÌôî**  
  - **Python, BeautifulSoup, Selenium** Îì±Ïùò Ïõπ Ïä§ÌÅ¨ÎûòÌïë ÎùºÏù¥Î∏åÎü¨Î¶¨Î•º ÌôúÏö©Ìï¥ ÏßÄÏó≠Î≥Ñ, Ïú†ÌòïÎ≥Ñ ÏàôÎ∞ïÏóÖÏÜå Îç∞Ïù¥ÌÑ∞Î•º ÏàòÏßë.  
  - **AWS EventBridge**ÏôÄ **AWS Lambda**Î•º ÌôúÏö©Ìïú **cron Ïä§ÏºÄÏ§ÑÎßÅ**ÏúºÎ°ú Îç∞Ïù¥ÌÑ∞ ÏàòÏßë ÌîÑÎ°úÏÑ∏Ïä§Î•º ÏûêÎèôÌôîÌïòÏó¨ ÏµúÏã†ÌôîÎêú Îç∞Ïù¥ÌÑ∞Î•º Ï£ºÍ∏∞Ï†ÅÏúºÎ°ú ÏóÖÎç∞Ïù¥Ìä∏.  

- **Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Î∞è Í¥ÄÎ¶¨**  (ETL)
  - ÏàòÏßëÎêú Îç∞Ïù¥ÌÑ∞Î•º **AWS S3**Ïóê Ï†ÄÏû•Ìï¥ ÎåÄÏö©Îüâ Îç∞Ïù¥ÌÑ∞Î•º ÏïàÏ†ÑÌïòÍ≤å Î≥¥Í¥Ä Î∞è Í¥ÄÎ¶¨.  
  - **Snowflake**Î°ú Îç∞Ïù¥ÌÑ∞Î•º Ïù¥Í¥ÄÌïòÏó¨ Î∂ÑÏÑù ÏøºÎ¶¨Î•º Ïã§ÌñâÌïòÍ≥† Îã§ÏñëÌïú Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º ÎèÑÏ∂ú.  

- **Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Î∞è ÏãúÍ∞ÅÌôî**  (ELT)
  - Î∂ÑÏÑùÎêú Í≤∞Í≥ºÎäî **Preset ÎåÄÏãúÎ≥¥Îìú**Î°ú ÏãúÍ∞ÅÌôîÌïòÏó¨ ÏßÅÍ¥ÄÏ†ÅÏù∏ Ï†ïÎ≥¥Î•º Ï†úÍ≥µ.  
  - ÏàôÎ∞ïÏóÖÏÜåÏùò **ÏßÄÏó≠Î≥Ñ**, **ÏàôÎ∞ï Ïú†ÌòïÎ≥Ñ**, **ÎÇ†ÏßúÎ≥Ñ ÌäπÏÑ±**ÏùÑ Î∂ÑÏÑùÌïòÍ≥†, ÏàòÏöî Î≥ÄÌôî Í≤ΩÌñ•ÏÑ±ÏùÑ ÌååÏïÖ Í∞ÄÎä•.  

---


# **Automated Data Pipeline with AWS Lambda, EventBridge, S3, Snowflake, and Preset**

![image](https://github.com/user-attachments/assets/82f7e334-3467-430f-822d-c43ce0a2a8dd)



## üìñ **Overview**

This repository contains an automated data pipeline using:
- **AWS EventBridge**: Scheduled triggering of tasks.
- **AWS Lambda**: Execution of web scraping and data transformation.
- **AWS S3**: Intermediate storage of processed data in **Parquet format**.
- **Snowflake**: Data warehousing for advanced analytics and reporting.
- **Preset (Apache Superset)**: Interactive dashboards for visualization of processed data.

---

## üìÖ **Crawling Execution Flow**

### **1. Event Trigger (AWS EventBridge)**
- **Schedule**: Every Monday at `00:00:10` (Cron-tab).

### **2. Lambda Execution**
- **Function**: `Crawling_Lambda`
- **Library Used**: `selenium`

### **3. Crawling Workflow**
#### **3-1. Crawling_Basic Execution**
- **Purpose**: Extract basic data using `selenium`.
- **Data Extracted**:
  - `accommodation_table`
  - `accommodation_review_table`
  - `accommodation_price_table`
- **Data Processing**:
  - Data is saved in **Parquet format** to a temporary buffer.
  - Parquet files are uploaded to **S3**.

#### **3-2. Crawling_Detail Execution**
- **Purpose**: Perform detailed crawling using `accommodation_table.accommodation_ID`.
- **Additional Data Extracted**:
  - `accommodation_Location_table`
  - `accommodation_Facilities_table`
- **Data Processing**:
  - Data is saved in **Parquet format** and uploaded to **S3**.

### **4. Data Loading to Snowflake**
- **Library Used**: `snowflake.connector`
- **Workflow**:
  1. **S3 Parquet data ‚Üí snowflake.project2.RAW_DATA**
  2. **RAW_DATA ‚Üí snowflake.project2.Analytics_tables**

### **5. Data Visualization with Preset**
- **Visualization Tool**: Preset (Apache Superset).
- **Purpose**: Create interactive dashboards and visualizations for:
  - Accommodation trends.
  - Review sentiment analysis.
  - Price comparisons and more.


---

# Local Ïã§Ìñâ Ïãú ÏàúÏÑú
```
> pip install -r requirements.txt
```

Îß§Ï£º ÏõîÏöîÏùº 00:00:10Î∂ÑÏóê Ïã§ÌñâÎêòÎèÑÎ°ù cron scheduling ÏÉùÏÑ± ÌõÑ

```
> python Crawling_Lambda_Script.py
> python Load_Snowflake_Lambda_Script.py
```
=> Ïã§Ìñâ

# AWS Íµ¨ÏÑ±Ïãú
1. Event Bridge : Cron Îß§Ï£º ÏõîÏöîÏùº 00:00:10

2. Lambda Íµ¨ÏÑ±
![alt text](./Lambda.png)

[Trigger : Event Bridge] -> [Lambda : Crawling_Lambda_Script.py] => [Ïù¥Ï†Ñ ÏÑ±Í≥µ Ïãú : python Load_Snowflake_Lambda_Script.py]

---

## üîß **Required Libraries and Versions**

| **Library**                   | **Version**    |
|--------------------------------|----------------|
| `beautifulsoup4`              | 4.12.3         |
| `selenium`                    | 4.26.1         |
| `boto3`                       | 1.35.54        |
| `pandas`                      | 2.0.3          |
| `snowflake-connector-python`  | 3.12.3         |
| `snowflake-sqlalchemy`        | 1.6.1          |
| `apache-superset`             | Latest         |
